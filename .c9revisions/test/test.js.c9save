{"ts":1361508395343,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1361748227821,"patch":[[{"diffs":[[1,"test(\"Test basic stack and push with call\", function() {\r\n    function a(val) {\r\n        return \"a\" + val;\r\n    }\r\n    function b(val) {\r\n        return \"b\" + val;\r\n    }\r\n    function c(val) {\r\n        return \"c\" + val;\r\n    }\r\n    expect(6);\r\n    ok(Stack(a).call(1) === \"a1\");\r\n    ok(Stack(a).push(b).call(1) === \"ab1\");\r\n    ok(Stack(a).push(b).push(c).call(1) === \"abc1\");\r\n    ok(Stack([a,b,c]).call(1) === \"abc1\");\r\n});\r\n\r\n/*\r\nfunction flatten() {\r\n    var args = Array.prototype.slice.call(arguments, 0);\r\n\treturn args.reduce(function(a, b) {\r\n\t\treturn a.concat(b);\r\n\t});\r\n}\r\n\r\nfunction doubleAll() {\r\n\tvar args = Array.prototype.slice.call(arguments, 0);\r\n\treturn args.map(function(a) {\r\n\t\treturn a + a;\r\n\t});\r\n}\r\n\r\nfunction sum() {\r\n    var args = Array.prototype.slice.call(arguments, 0);\r\n    return args.reduce(function(a, b) {\r\n        return a + b;\r\n    });\r\n}\r\n\r\nStack([sum, doubleAll, flatten]).apply([[1],[2],[3]]);\r\n*/\r\n"]],"start1":0,"start2":0,"length1":0,"length2":940}]],"length":940,"saved":false}
{"ts":1361748645010,"patch":[[{"diffs":[[0,"ect("],[-1,"6"],[1,"4"],[0,");\r\n"]],"start1":236,"start2":236,"length1":9,"length2":9}]],"length":940,"saved":false}
{"ts":1361748725437,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"/*\r\n"],[1,"test(\"Test basic stack and push with call\", function() {\r\n    "],[0,"func"]],"start1":427,"start2":427,"length1":12,"length2":70},{"diffs":[[0,"latten() {\r\n    "],[1," "],[1,"   "],[0,"var args = Array"]],"start1":503,"start2":503,"length1":32,"length2":36},{"diffs":[[0,"arguments, 0);\r\n"],[1,"    "],[0,"\treturn args.red"]],"start1":561,"start2":561,"length1":32,"length2":36},{"diffs":[[0,"on(a, b) {\r\n"],[1,"    "],[0,"\t\treturn a.c"]],"start1":607,"start2":607,"length1":24,"length2":28},{"diffs":[[0,"at(b);\r\n"],[1,"    "],[0,"\t});\r\n"],[-1,"}\r\n\r\n"],[1,"    }\r\n    "],[0,"function"]],"start1":638,"start2":638,"length1":27,"length2":37},{"diffs":[[0,"ll() {\r\n"],[1,"    "],[0,"\tvar arg"]],"start1":683,"start2":683,"length1":16,"length2":20},{"diffs":[[0,"s, 0);\r\n"],[1,"    "],[0,"\treturn "]],"start1":742,"start2":742,"length1":16,"length2":20},{"diffs":[[0,"n(a) {\r\n"],[1,"    "],[0,"\t\treturn"]],"start1":778,"start2":778,"length1":16,"length2":20},{"diffs":[[0,"a;\r\n"],[1,"    "],[0,"\t});\r\n"],[-1,"}\r\n\r\n"],[1,"    }\r\n    "],[0,"func"]],"start1":803,"start2":803,"length1":19,"length2":29},{"diffs":[[0,"um() {\r\n    "],[1,"  "],[1,"  "],[0,"var args = A"]],"start1":838,"start2":838,"length1":24,"length2":28},{"diffs":[[0,"ments, 0);\r\n"],[1,"    "],[0,"    return a"]],"start1":896,"start2":896,"length1":24,"length2":28},{"diffs":[[0,"on(a, b) {\r\n"],[1,"    "],[0,"        retu"]],"start1":941,"start2":941,"length1":24,"length2":28},{"diffs":[[0,"a + b;\r\n"],[1,"    "],[0,"    });\r"]],"start1":972,"start2":972,"length1":16,"length2":20},{"diffs":[[0,");\r\n"],[-1,"}\r\n\r\n"],[1,"    }\r\n    expect(1);\r\n    ok("],[0,"Stac"]],"start1":989,"start2":989,"length1":13,"length2":38},{"diffs":[[0,"3]])"],[-1,";\r\n*/"],[1," === 12);\r\n});"],[0,"\r\n"]],"start1":1072,"start2":1072,"length1":11,"length2":20}]],"length":1092,"saved":false}
{"ts":1361748742264,"patch":[[{"diffs":[[0,"k and push with "],[-1,"call"],[1,"apply"],[0,"\", function() {\r"]],"start1":452,"start2":452,"length1":36,"length2":37}]],"length":1093,"saved":false}
{"ts":1361748787816,"patch":[[{"diffs":[[0,"expect(1);\r\n"],[1,"    ok(Stack(flatten).apply([[1],[2],[3]]) === [1,2,3]);\r\n"],[0,"    ok(Stack"]],"start1":1005,"start2":1005,"length1":24,"length2":82}]],"length":1151,"saved":false}
{"ts":1361748794971,"patch":[[{"diffs":[[0," expect("],[-1,"1"],[1,"2"],[0,");\r\n    "]],"start1":1004,"start2":1004,"length1":17,"length2":17}]],"length":1151,"saved":false}
{"contributors":[],"silentsave":false,"ts":1362011262884,"patch":[[{"diffs":[[0,"k(Stack("],[1,"sum).push("],[0,"flatten)"]],"start1":1022,"start2":1022,"length1":16,"length2":26},{"diffs":[[0,"=== "],[-1,"[1,2,3]"],[1,"6"],[0,");\r\n"]],"start1":1070,"start2":1070,"length1":15,"length2":9},{"diffs":[[0,") === 12);\r\n"],[-1,""],[0,"});\r\n"],[1,"\r\ntest(\"push\", function () {});\r\ntest(\"shift\", function () {});\r\ntest(\"unshift\", function () {});\r\ntest(\"pop\", function () {});\r\ntest(\"index\", function () {});\r\ntest(\"search\", function () {});\r\ntest(\"clone\", function () {});\r\n/*\r\n(function (namespace) {\r\n    var topics = {};\r\n    function getTopic(key) {\r\n        return topics[key];\r\n    }\r\n    function isStack(stack) {\r\n        return stack instanceof Stack;\r\n    }\r\n    function derivatives(topic) {\r\n        return str.split(\"/\").map(function (e, i, arr) {\r\n            var copy = arr.slice(0);\r\n            return i === 0 ? str : (copy.splice(i, 1, \"*\"), copy.join(\"/\"));\r\n        });\r\n    }\r\n    function getStacks(topic) {\r\n        return derivatives(topic).map(getTopic).filter(isStack);\r\n    }\r\n    function PubSub(id) {\r\n        if (!(this instanceof PubSub)) {\r\n            return new PubSub(id);\r\n        }\r\n        if (!PubSub.index) {\r\n            PubSub.index = {};\r\n        }\r\n        PubSub.index[id] = this;\r\n        this.id = id;\r\n    }\r\n    PubSub.prototype.subscribe = function (topic, fn) {\r\n        var stack = topics[topic];\r\n        if (!stack) {\r\n            topics[topic] = new Stack(fn);\r\n        } else {\r\n            stack.push(fn);\r\n        }\r\n        return this;\r\n    };\r\n    PubSub.prototype.unsubscribe = function (topic, fn) {\r\n        var stack = topics[topic];\r\n        \r\n        return this;\r\n    };\r\n    PubSub.prototype.publish = function (topic, data, context) {\r\n        getStacks(topic).forEach(function (stack) {\r\n            stack.call(context, data);\r\n        });\r\n    };\r\n    \r\n    namespace.PubSub = PubSub;\r\n}(this));\r\n*/\r\n"]],"start1":1138,"start2":1138,"length1":17,"length2":1642}]],"length":2780,"saved":false}
{"ts":1362011518622,"patch":[[{"diffs":[[0,"\r\ntest(\""],[-1,"pu"],[0,"sh"],[1,"ift"],[0,"\", funct"]],"start1":1155,"start2":1155,"length1":20,"length2":21},{"diffs":[[0,"() {"],[-1,"});\r\ntest(\"shift\", function () {"],[1,"\r\n    function fn1() {return 1;}\r\n    function fn2() {return 2;}\r\n    expect(2);\r\n    var stack = Stack(fn1).push(fn2);\r\n    ok(stack.call() === \"1\");\r\n    stack = stack.shift();\r\n    ok(stack.call() === \"2\");\r\n"],[0,"});\r"]],"start1":1180,"start2":1180,"length1":40,"length2":219}]],"length":2960,"saved":false}
{"ts":1362011628734,"patch":[[{"diffs":[[0,"2;}\r\n    expect("],[-1,"2"],[1,"3"],[0,");\r\n    var stac"]],"start1":1245,"start2":1245,"length1":33,"length2":33},{"diffs":[[0,");\r\n    "],[-1,"stack"],[1,"var removed"],[0," = stack"]],"start1":1332,"start2":1332,"length1":21,"length2":27},{"diffs":[[0," === \"2\");\r\n"],[1,"    ok(removed.call() === \"1\");\r\n"],[0,"});\r\ntest(\"u"]],"start1":1389,"start2":1389,"length1":24,"length2":57}]],"length":2999,"saved":false}
{"ts":1362011649674,"patch":[[{"diffs":[[0,".call() === "],[-1,"\"1\""],[1,"1"],[0,");\r\n    var "]],"start1":1317,"start2":1317,"length1":27,"length2":25},{"diffs":[[0,"=== "],[-1,"\"2\""],[1,"2"],[0,");\r\n"]],"start1":1388,"start2":1388,"length1":11,"length2":9},{"diffs":[[0,"=== "],[-1,"\"1\""],[1,"1"],[0,");\r\n"]],"start1":1419,"start2":1419,"length1":11,"length2":9}]],"length":2993,"saved":false}
{"ts":1362011749055,"patch":[[{"diffs":[[0,"st(\""],[-1,"unshift\","],[1,"pop\", function () {\r\n    function fn1() {return 1;}\r\n   "],[0," fun"]],"start1":1435,"start2":1435,"length1":17,"length2":64},{"diffs":[[0,"ion "],[1,"fn2"],[0,"() {"],[-1,"});\r\ntest(\"pop"],[1,"return 2;}\r\n    expect(3);\r\n    var stack = Stack(fn1).push(fn2);\r\n    ok(stack.call() === 1);\r\n    var removed = stack.pop();\r\n    ok(stack.call() === 1);\r\n    ok(removed.call() === 2);    \r\n});\r\ntest(\"unshift"],[0,"\", f"]],"start1":1501,"start2":1501,"length1":26,"length2":225},{"diffs":[[0,"\", function () {"],[1,"\r\n    \r\n"],[0,"});\r\ntest(\"index"]],"start1":1722,"start2":1722,"length1":32,"length2":40}]],"length":3247,"saved":false}
{"ts":1362012003234,"patch":[[{"diffs":[[0,"tack.call() === "],[-1,"1"],[1,"2"],[0,");\r\n    ok(remov"]],"start1":1648,"start2":1648,"length1":33,"length2":33},{"diffs":[[0,"l() === "],[-1,"2"],[1,"1"],[0,");    \r\n"]],"start1":1687,"start2":1687,"length1":17,"length2":17}]],"length":3247,"saved":false}
{"ts":1362012071990,"patch":[[{"diffs":[[0,"() {return 2;}\r\n"],[1,"    function fn3() {return 3;}\r\n"],[0,"    expect(3);\r\n"]],"start1":1508,"start2":1508,"length1":32,"length2":64},{"diffs":[[0,"k(fn1).push(fn2)"],[1,".push(fn3)"],[0,";\r\n    ok(stack."]],"start1":1592,"start2":1592,"length1":32,"length2":42},{"diffs":[[0,"tack.call() === "],[-1,"2"],[1,"1"],[0,");\r\n    ok(remov"]],"start1":1690,"start2":1690,"length1":33,"length2":33},{"diffs":[[0,"l() === "],[-1,"1"],[1,"3"],[0,");    \r\n"]],"start1":1729,"start2":1729,"length1":17,"length2":17}]],"length":3289,"saved":false}
{"ts":1362012689524,"patch":[[{"diffs":[[0,"tack.call() === "],[-1,"1"],[1,"3"],[0,");\r\n    ok(remov"]],"start1":1690,"start2":1690,"length1":33,"length2":33}]],"length":3289,"saved":false}
{"ts":1362018713209,"patch":[[{"diffs":[[0,"3;}\r\n    expect("],[-1,"3"],[1,"4"],[0,");\r\n    var stac"]],"start1":1551,"start2":1551,"length1":33,"length2":33},{"diffs":[[0,";\r\n    var stack"],[1,"1"],[0," = Stack(fn1).pu"]],"start1":1569,"start2":1569,"length1":32,"length2":33},{"diffs":[[0,"ack(fn1)"],[-1,".push(fn2)"],[1,";\r\n    var stack2 = stack1.push(fn2);\r\n    var stack3 = stack2"],[0,".push(fn"]],"start1":1591,"start2":1591,"length1":26,"length2":78},{"diffs":[[0,");\r\n    ok(stack"],[1,"1"],[0,".call() === 1);\r"]],"start1":1670,"start2":1670,"length1":32,"length2":33},{"diffs":[[0,"ok(stack"],[-1,".call() === 3"],[1,"3 === removed"],[0,");\r\n    "]],"start1":1740,"start2":1740,"length1":29,"length2":29},{"diffs":[[0," === 3);"],[1,"\r\n"],[0,"    "],[1,"ok(typeof stack2.next === \"undefined\");"],[0,"\r\n});\r\nt"]],"start1":1786,"start2":1786,"length1":20,"length2":61}]],"length":3384,"saved":false}
{"ts":1362018756602,"patch":[[{"diffs":[[0,"ack3"],[-1," === removed"],[1,".call() === 3"],[0,");\r\n"]],"start1":1745,"start2":1745,"length1":20,"length2":21}]],"length":3385,"saved":false}
{"ts":1362018781773,"patch":[[{"diffs":[[0," = stack"],[1,"3"],[0,".pop();\r"]],"start1":1719,"start2":1719,"length1":16,"length2":17},{"diffs":[[0,"k(stack3"],[-1,".call() === 3"],[1," === removed"],[0,");\r\n    "]],"start1":1742,"start2":1742,"length1":29,"length2":28}]],"length":3385,"saved":false}
{"ts":1362018798212,"patch":[[{"diffs":[[0,"of stack"],[-1,"2"],[1,"3"],[0,".next =="]],"start1":1808,"start2":1808,"length1":17,"length2":17}]],"length":3385,"saved":false}
{"ts":1362019281812,"patch":[[{"diffs":[[0," {\r\n    "],[1,"function fn1() {return 1;}\r\n    function fn2() {return 2;}\r\n    function fn3() {return 3;}\r\n    var stack = Stack(fn1).push(fn2);\r\n    stack.unshift(fn3);\r\n    expect(1);\r\n    ok(stack.call() === 3);"],[0,"\r\n});\r\nt"]],"start1":1874,"start2":1874,"length1":16,"length2":215}]],"length":3584,"saved":false}
{"ts":1362019364403,"patch":[[{"diffs":[[0,"\", function () {"],[1,"\r\n    function fn1() {return 1;}\r\n    function fn2() {return 2;}\r\n    function fn3() {return 3;}\r\n    var stack = Stack([fn1, fn2, fn3]);\r\n    expect(3);\r\n    ok(stack.index(fn1) === 2);\r\n    ok(stack.index(fn2) === 1);\r\n    ok(stack.index(fn1) === 0);\r\n"],[0,"});\r\ntest(\"searc"]],"start1":2099,"start2":2099,"length1":32,"length2":286}]],"length":3838,"saved":false}
{"ts":1362019480039,"patch":[[{"diffs":[[0,"}\r\n    var stack"],[1,"1"],[0," = Stack([fn1, f"]],"start1":2210,"start2":2210,"length1":32,"length2":33},{"diffs":[[0,"ack("],[-1,"["],[0,"fn1"],[-1,", fn2, "],[1,");\r\n    var stack2 = stack1.push(fn2);\r\n    var stack3 = stack2.push("],[0,"fn3"],[-1,"]"],[0,");\r\n"]],"start1":2232,"start2":2232,"length1":23,"length2":83},{"diffs":[[0,"tack"],[1,"3"],[0,".index("],[-1,"fn1"],[1,"2"],[0,") === "],[-1,"2"],[1,"stack1"],[0,");\r\n"]],"start1":2339,"start2":2339,"length1":25,"length2":29},{"diffs":[[0,"tack"],[1,"3"],[0,".index("],[-1,"fn2"],[1,"1"],[0,") === "],[-1,"1"],[1,"stack2"],[0,");\r\n"]],"start1":2376,"start2":2376,"length1":25,"length2":29},{"diffs":[[0,"tack"],[1,"3"],[0,".index("],[-1,"fn1"],[1,"0"],[0,") === "],[-1,"0"],[1,"stack3"],[0,");\r\n"]],"start1":2413,"start2":2413,"length1":25,"length2":29}]],"length":3911,"saved":false}
{"ts":1362019541675,"patch":[[{"diffs":[[0,"unction () {"],[1,"\r\n    function fn1() {return 1;}\r\n    function fn2() {return 2;}\r\n    function fn3() {return 3;}\r\n    var stack = Stack([fn1, fn2, fn3]);\r\n    expect(3);\r\n    ok(stack.search(fn3) === 0);\r\n    ok(stack.search(fn2) === 1);\r\n    ok(stack.search(fn1) === 2);\r\n"],[0,"});\r\ntest(\"c"]],"start1":2463,"start2":2463,"length1":24,"length2":281}]],"length":4168,"saved":false}
{"ts":1362019580890,"patch":[[{"diffs":[[0,"}\r\n    var stack"],[1,"1"],[0," = Stack([fn1, f"]],"start1":2570,"start2":2570,"length1":32,"length2":33},{"diffs":[[0,"ack("],[-1,"["],[0,"fn1"],[-1,", fn2, "],[1,");\r\n    var stack2 = stack1.push(fn2);\r\n    var stack3 = stack2.push("],[0,"fn3"],[-1,"]"],[0,");\r\n"]],"start1":2592,"start2":2592,"length1":23,"length2":83},{"diffs":[[0,");\r\n    ok(stack"],[1,"3"],[0,".search(fn3) ==="]],"start1":2687,"start2":2687,"length1":32,"length2":33},{"diffs":[[0,"n3) === "],[-1,"0"],[1,"stack3"],[0,");\r\n    "]],"start1":2713,"start2":2713,"length1":17,"length2":22},{"diffs":[[0,");\r\n    ok(stack"],[1,"3"],[0,".search(fn2) ==="]],"start1":2727,"start2":2727,"length1":32,"length2":33},{"diffs":[[0,"ch(fn2) === "],[-1,"1"],[1,"stack2"],[0,");\r\n    ok(s"]],"start1":2749,"start2":2749,"length1":25,"length2":30},{"diffs":[[0,"ok(stack"],[1,"3"],[0,".search("]],"start1":2775,"start2":2775,"length1":16,"length2":17},{"diffs":[[0,"ch(fn1) === "],[-1,"2"],[1,"stack1"],[0,");\r\n});\r\ntes"]],"start1":2789,"start2":2789,"length1":25,"length2":30}]],"length":4247,"saved":false}
{"ts":1362019828961,"patch":[[{"diffs":[[0,"ion () {"],[1,"\r\n    function a(val) {\r\n        return \"a\" + val;\r\n    }\r\n    function b(val) {\r\n        return \"b\" + val;\r\n    }\r\n    function c(val) {\r\n        return \"c\" + val;\r\n    }\r\n    function d(val) {\r\n        return \"d\" + val;\r\n    }\r\n    var stack = Stack([a, b, c]);\r\n    expect(3);\r\n    var clone = stack.clone();\r\n    ok(stack.call(1) === clone.call(1));\r\n    clone = stack.clone(d);\r\n    ok(clone.call(1) === \"abd1\");\r\n    clone = stack.clone(null, Stack(d));\r\n    ok(clone.call(1) === \"adc1\");\r\n"],[0,"});\r\n/*\r"]],"start1":2835,"start2":2835,"length1":16,"length2":512}]],"length":4743,"saved":false}
{"ts":1362019855523,"patch":[[{"diffs":[[0,"Stack(d));\r\n"],[1,"    alert(clone.call(1));\r\n"],[0,"    ok(clone"]],"start1":3292,"start2":3292,"length1":24,"length2":51}]],"length":4770,"saved":false}
{"ts":1362019882310,"patch":[[{"diffs":[[0,");\r\n"],[-1,"    alert(clone.call(1));\r\n"],[0,"    "]],"start1":3300,"start2":3300,"length1":35,"length2":8},{"diffs":[[0,"1) === \""],[-1,"a"],[0,"dc1\");\r\n"]],"start1":3322,"start2":3322,"length1":17,"length2":16}]],"length":4742,"saved":false}
